<!--
** Copyright [2013-2016] [Megam Systems]
**
** Licensed under the Apache License, Version 2.0 (the "License");
** you may not use this file except in compliance with the License.
** You may obtain a copy of the License at
**
** http://www.apache.org/licenses/LICENSE-2.0
**
** Unless required by applicable law or agreed to in writing, software
** distributed under the License is distributed on an "AS IS" BASIS,
** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
** See the License for the specific language governing permissions and
** limitations under the License.
-->
<!-- BEGIN HEADER -->
<div class="header navbar navbar-fixed-top">
  <div class="container-fluid">
    <!-- BEGIN TOP NAVIGATION BAR -->
    <div class="header-inner">
      <div class="row">
        <div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
          <!-- BEGIN LOGO -->
          <a class="navbar-brand" href='/'>
            <%- if application_logo_url.present? %>
              <img src="<%= application_logo_url %>" alt="<%= SiteSetting.title %>" id="site-logo" class="img-responsive">
            <%- else %>
              <h2 id='site-text-logo'><%= SiteSetting.title %></h2>
            <%- end %>
            <!-- END LOGO -->
          </a>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-4 col-xs-6 col-lg-offset-6 col-md-offset-6 col-sm-offset-6">
          <div class="row">
            <!-- <div class="col-xs-4 col-sm-1"> -->
            <ul class="nav navbar-nav pull-right">
              <li id="marketplace_top_right">
                <%= link_to marketplaces_path , :data => {:remote => true}, :class => "socket_disconnect unmount_component" do %>
                  <i class="c_icon-window-lg pull-left"></i>
                  <span class="hidden-xs hidden-sm pull-left"><%= t('marketplace.title') %></span>
                <% end %>
              </li>
              <% if SiteSetting.enable_ceph_logins %>
                <li id="storage_top_right">
                  <%= link_to buckets_path , :data => {:remote => true}, :class => "socket_disconnect unmount_component" do %>
                    <i class="c_icon-storage-lg pull-left"></i>
                    <span class="hidden-xs hidden-sm pull-right"><%= t('title.storages') %></span>
                  </a>
                <% end %>
              </li>
            <% end %>
            <%= render 'layouts/notifications' %>
            <li class="dropdown" id="header_notification_bar">
              <a class="dropdown-toggle" data-close-others="true" data-hover="dropdown" data-toggle="dropdown" href="#"> <i class="c_glob c_icon-profile"></i> </a>
              <ul class="dropdown-menu extended notification">
                <ul class="dropdown-menu-list scroller">
                  <li>
                    <%= link_to edit_user_path(1), :data => {:remote => true} do %>
                      <span class="label label-sm label-icon label-success"> <i class="glyphicon glyphicon-user"></i> </span>
                      <%= t('top_toolbar.profile') %>
                    <% end %>
                  </li>
                  <li>
                    <%= link_to signout_path, method: "delete" do %>
                      <span class="label label-sm label-icon label-danger"> <i class="glyphicon glyphicon-off"></i> </span>
                      <%= t('top_toolbar.signout') %>
                    <% end %>
                  </li>
                </ul>
              </ul>
            </li>
          </ul>
          <!-- BEGIN RESPONSIVE MENU TOGGLER -->
          <a class="navbar-toggle collapsed pull-right" data-target=".navbar-collapse" data-toggle="collapse" href="javascript:;"> <%= image_tag "menu-toggler.png", :alt => "" %></a>
          <!-- END RESPONSIVE MENU TOGGLER -->
        </div>
      </div>
    </div>
  </div>
</div>
<!-- END TOP NAVIGATION BAR -->
</div>
<!-- END HEADER -->
<script>
  //hide it on click
  	$('.dropdown-menu ul li').click(function() {
  		$('li[class="dropdown open"]').removeClass('open');
  	})

  	$('#marketplace_top_right').hover(function() {
  		$('#marketplace_top_right i').toggleClass('c_icon-window-lg');
  		$('#marketplace_top_right i').toggleClass('c_icon-window-lg-sel');
  		$('#marketplace_top_right span').toggleClass('mplace-selected');
  	});
  	$('#storage_top_right').hover(function() {
  		$('#storage_top_right i').toggleClass('c_icon-storage-lg');
  		$('#storage_top_right i').toggleClass('c_icon-storage-lg-sel');
  		$('#storage_top_right span').toggleClass('mplace-selected');
  	});
</script>
